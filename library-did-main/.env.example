# Backend Configuration
NODE_ENV=development
PORT=3001
API_PREFIX=/api
# 로그: 기본 warn(요청 로그 없음). 상세 시 info
LOG_LEVEL=warn
# Prisma SQL 로그 필요 시 true
# LOG_PRISMA_QUERIES=true

# Database (Prisma)
# DATABASE_URL=postgresql://user:password@localhost:5432/smart_did
# SQLite: 경로는 schema.prisma 위치(prisma/) 기준. file:./dev.db → packages/backend/prisma/dev.db
DATABASE_URL=file:./dev.db

# JWT Configuration
JWT_SECRET=your-secret-key-change-in-production-32chars
JWT_EXPIRES_IN=3600

# Internal API (Worker → Backend callback)
# Backend와 Worker가 같은 값을 써야 함. 불일치 시 콜백 401 Unauthorized 발생.
INTERNAL_API_SECRET=your-internal-secret-change-in-production

# Redis Configuration (BullMQ)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=

# Video Storage (Backend가 영상 파일 제공, Worker가 저장. 로컬에서는 동일 경로 사용 권장)
STORAGE_TYPE=local
STORAGE_PATH=./storage/videos
# S3 (production):
# STORAGE_TYPE=s3
# S3_BUCKET=your-bucket
# S3_REGION=ap-northeast-2
# S3_PUBLIC_BASE_URL=https://your-bucket.s3.ap-northeast-2.amazonaws.com
# AWS_ACCESS_KEY_ID=
# AWS_SECRET_ACCESS_KEY=

# Gemini (Worker – script/keyframe, trailer-engine)
GEMINI_API_KEY=
GEMINI_MODEL=gemini-2.0-flash
GEMINI_TEMPERATURE=0.7
GEMINI_MAX_RETRIES=3
GEMINI_TIMEOUT=120000

# Veo 3.1 API (Vertex AI, optional)
VEO_API_KEY=
VEO_API_ENDPOINT=https://api.veo.example.com/v1

# Banana.dev 키프레임 이미지 (trailer-engine과 동일)
# BANANA_API_KEY=
# BANANA_MODEL_KEY=

# OpenAI / Sora (optional, when available)
# OPENAI_API_KEY=

# Video Generation Settings
VIDEO_DEFAULT_EXPIRY_DAYS=90
VIDEO_MAX_RETRIES=3
VIDEO_SCENE_DURATION=8
VIDEO_TOTAL_DURATION=24
OUTPUT_DIR=./output
TEMP_DIR=./temp
SUBTITLE_LANGUAGE=ko

# Worker Configuration
WORKER_CONCURRENCY=2
BACKEND_URL=http://localhost:3001

# ALPAS Integration
# true 또는 1이면 실제 API 없이 Mock 도서(BK001~BK035) 사용
ALPAS_USE_MOCK=true
# 테스트용 공개 서버: http://www.alpas.kr/BTLMS/HOMEPAGE/API
ALPAS_API_URL=
ALPAS_API_KEY=
ALPAS_LIB_NO=1
ALPAS_MANAGE_CODE=MA
ALPAS_NETWORK_ADAPTER_ID=1

# Frontend Configuration (DID/Admin 등 API 호출)
VITE_API_URL=http://localhost:3001/api
# 도서관 서버 10.10.11.13/METIS 배포 시 설정 (Docker 프론트 빌드 시 사용)
# VITE_BASE_PATH=/METIS
REACT_APP_API_URL=http://localhost:3001/api
REACT_APP_ENABLE_NOTIFICATIONS=true

# Admin Default Credentials (Change in production!)
ADMIN_USERNAME=admin
ADMIN_PASSWORD=changeme123
